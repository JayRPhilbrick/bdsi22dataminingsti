TODO DATA MANAGEMENT + EDA:

2000-2020, national level, STIs over time
- Gonorrhea
- Chlamydia
- HIV

2016-2020, national level, STIs over time
- Gonorrhea
- Chlamydia
- HIV

2019-2020, national level, Gonorrhea over time by race
2019-2020, national level, Chlamydia over time by race
2019-2020, national level, HIV over time by race

Adjust for population

Start looking at visibility of symptoms/prevalence at different stages!!! Very important, given HIV diagnosis decrease. Share of asymptomatic cases for each of these diseases!

Look at unknown race: what does that mean!

What are the denominators of percents in the HIV data?

Map of chlamydia unknown, county level
Map of gonorrhea unknown, county level

What is meant by the different severities of syphilis? Does more severe mean more obvious? 

Look at individual counties: individual plots within counties. I.e. 50 random counties, most rural, most urban, most white, most black, most hispanic, poorest, and richest.

Map for rate of increase of rate of gonorrhea (and a separate one for rate of chlamydia) 2019-2020 at the county level

Add batch file that runs all the data build files

Add batch file that runs all the analysis files

Make sure all files are in "leaf" folders. As in, for most folders, if a folder contains subfolders, then files should also not be present

In pre-merge code: ensure that ACS DP05 and DP03 contain all the same columns for all the same years. Essentially, look to see whether there are "sparse" columns which are non-empty for less than 99% of rows. Make a list of what each of DP03 and DP05 should contain: make sure that these are not in the list of sparse columns. 

Clean ACS 2010-2012 DP03, 2010-2012 DP05

Scatterplot of 2019 rate, 2020 rate, line of best fit -- also that, but with bubble size for population

The variance within county is inversely proportional to population county -- take that into account with the test of difference

Leap from 2000-2002 -- look into this. Reporting changes? Don't trust anything before 2002 or so.

Forecast at the state level -- levels at the county level will be noisy, especially in counties. At the state level, this should be more stable. 

Definitely make the time series normalized by population, so that it's case rates 


TODO MODELING:

Fit something up until 2020: maybe autoregressive model?
Use 2020 covariates to get a prediction for 2020, could look at that as a way to quantify the "missing cases"
Analysis of missing cases -- regression here to see where "missing cases" are the highest
5-fold cross validation
Maybe autoregressive lasso model? Also check out this Bayesian one: An Autoregressive Disease Mapping Model for Spatio-Temporal Forecasting

DONE:

Rename all fips variables: fips

Got rid of duplicate columns

created adjusted income column

Kernel density (PDF) plot for rate of increase of rate of gonorrhea (and a separate one for rate of chlamydia) 2019-2020 at the county level

Add data suppressed and data unavailable codes for STI data. Make these codes not a number!